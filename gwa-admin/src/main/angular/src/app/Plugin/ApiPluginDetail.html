<div *ngIf="object">
  <ol class="breadcrumb">
    <li><a routerLink="/app/apis">APIs</a></li>
    <li><a [routerLink]="['/app','apis', api.name]">{{api.name}}</a></li>
    <li><a [routerLink]="['/app','apis', api.name]">Plugins</a></li>
    <li class="active">{{object.name}}</li>
  </ol>
  
  <form [formGroup]="form" class="form-horizontal" role="form">
    <md-card *ngFor="let group of groups">
      <md-card-title>{{group.title}}</md-card-title>
      <md-card-content>
        <div class="row" [formGroupName]="group.formGroupName">
          <bs-form-group *ngFor="let field of group.fields"
            [form]="form"
            [name]="field.name"
            inputWidth="col-sm-12"
          >
            <bs-input-group [prefixText]="field.title">
              <span [ngSwitch]="field.readOnly">
                <p *ngSwitchCase="true" class="form-control form-control-static">{{plugin[field.name]}}</p>
                <span *ngSwitchDefault [ngSwitch]="field.type">
                  <span *ngSwitchCase="'checkbox'" class="form-control">
                    <input [formControlName]="field.name" type="checkbox" />
                  </span>
                  <select *ngSwitchCase="'select'" [formControlName]="field.name" class="form-control">
                    <option *ngFor="let value of field.values" [value]="value">{{value}}</option>
                  </select>
                  <input *ngSwitchDefault [formControlName]="field.name" [placeholder]="field.placeholder" [type]="field.type" [required]="field.required" class="form-control" />
                </span>
              </span>
            </bs-input-group>
          </bs-form-group>
        </div>
      </md-card-content>
    </md-card>
  </form>

  <div class="btn-toolbar" role="toolbar">
    <button (click)="goBack()" class="btn btn-sm btn-default" role="button">Cancel</button>
    <button (click)="save()" class="btn btn-sm btn-primary" role="button">Save</button>
  </div>

</div>