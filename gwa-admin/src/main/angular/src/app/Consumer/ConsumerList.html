<div>
  <md-toolbar>
    <a routerLink="/ui/consumers/_add_" md-raised-button>Add Consumer</a>
    <md-select
      placeholder="Filter Field"
      [(ngModel)]="filterFieldName"
      (ngModelChange)="refresh()"
    >
      <md-option
        *ngFor="let field of filterFields"
        [value]="field.prop"
      >{{field.name}}</md-option>
    </md-select>
    <span>=</span>
    <md-input-container>
      <input
        mdInput
        placeholder="Filter Value"
        [(ngModel)]="filterValue"
        (ngModelChange)="refresh()"
      />
    </md-input-container>
  </md-toolbar>

  <ngx-datatable
    class="material striped"
    [rows]="rows"
    [columns]="columns"
    [columnMode]="'force'"
    [headerHeight]="30"
    [footerHeight]="30"
    [rowHeight]="42"
    [externalPaging]="true"
    [count]="count"
    [offset]="offset"
    [limit]="limit"
    [cssClasses]="cssClasses"
    [scrollbarV]="true"
    (page)='onPage($event)'
  >
  </ngx-datatable>

  <template #idT let-row="row" let-value="value"><a *ngIf="value" [routerLink]="['/ui','consumers', row.username]">{{value}}</a></template>

  <template #dateT let-value="value">{{value | date:'yyyy-MM-dd HH:mm:ss'}}</template>
  
  <template #actionsT let-row="row">
    <button (click)="deleteObject(row)" md-icon-button  style="color: red">
      <md-icon>delete</md-icon>
    </button>
  </template>
</div>