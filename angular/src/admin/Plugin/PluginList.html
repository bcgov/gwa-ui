<md-tab-group>
  <md-tab>
    <md-toolbar>
      <span style="flex: 1 1 auto"></span>
      <md-progress-spinner
        *ngIf="refreshingCount"
        mode="indeterminate"
      ></md-progress-spinner>
      <button (click)="refresh()" md-icon-button title="Refresh" >
        <md-icon fontSet="glyphicon" fontIcon="glyphicon-refresh"></md-icon>
      </button>
    </md-toolbar>
    <ng-template md-tab-label>Plugin: {{pluginName}}</ng-template>
    <ngx-datatable 
      class="material striped" 
      [rows]="rows" 
      [columns]="columns" 
      [columnMode]="'force'" 
      [headerHeight]="30" 
      [footerHeight]="30" 
      [rowHeight]="30"
      [externalPaging]="true"
      [count]="count" 
      [offset]="offset" 
      [limit]="limit" 
      [cssClasses]="cssClasses" 
      [scrollbarV]="true" 
      (page)='onPage($event)'
    >
    </ngx-datatable>
  </md-tab>
</md-tab-group>

<ng-template #apiT let-row="row" let-value="value"> <a [routerLink]="['/ui','apis', value]">{{value}}</a></ng-template>

<ng-template #userT let-row="row" let-value="value"> <a [routerLink]="['/ui','users', value]">{{value}}</a></ng-template>

<ng-template #idT let-row="row" let-value="value"> <a [routerLink]="['/ui','apis', row.api_name, 'plugins', value]">{{value}}</a></ng-template>

<ng-template #dateT let-value="value">{{value | date:'yyyy-MM-dd HH:mm:ss'}}</ng-template>

<ng-template #flagT let-row="row" let-value="value">
  <span [ngSwitch]="value">
    <span *ngSwitchCase="true" class="fa fa-check" style="color: green" title="Yes"></span>
    <span *ngSwitchDefault class="fa fa-times" style="color: red" title="No"></span>
  </span>
</ng-template>
<ng-template #actionsT let-row="row">
  <button (click)="deleteObject(row)" md-icon-button style="color: red" title="Delete">
    <md-icon fontSet="glyphicon" fontIcon="glyphicon-trash"></md-icon>
  </button>
</ng-template>
