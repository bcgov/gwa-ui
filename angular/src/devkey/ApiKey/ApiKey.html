<div>

  <md-card *ngIf="appName && appRedirectUrl">
    <md-card-title>Authorize application {{appName}}</md-card-title>
    <md-card-content>
      <p>Allow application {{appName}} to use your API Key to access web services?</p>
      <p>By allowing access you accept all responsibility for any access to the web service using
      your developer key.</p>
      <p>You can revoke access by replacing your API Key.</p>
    </md-card-content>
    <md-card-actions>
       <button
         (click)="addApiKey()" 
         md-raised-button color="primary" 
         *ngIf="!hasApiKey" 
         [disabled]="!acceptTerms"
       >Create API Key</button>
       <button (click)="authorizeAccess()" md-raised-button color="primary" [disabled]="!hasApiKey">Authorize application {{appName}}</button>
    </md-card-actions>
  </md-card>

  <md-card>
    <md-card-title>Developer API Key</md-card-title>
    <md-card-content>
      <ng-template [ngIf]="hasApiKey">
        <md-chip-list fxLayout="column">
          <md-chip color="primary">{{apiKey}}</md-chip>
        </md-chip-list>
      </ng-template>
    </md-card-content>
    <md-card-actions>
      <button (click)="addApiKey()" md-raised-button color="primary" [disabled]="!acceptTerms">
        <span *ngIf="hasApiKey; else createApiKey">Replace API Key</span>
        <ng-template #createApiKey>Create API Key</ng-template>
      </button>
      <md-checkbox [(ngModel)]="acceptTerms">I agree to the <a href="terms" target="_blank">API Key Terms of Use</a></md-checkbox>
    </md-card-actions>
  </md-card>

  <md-card>
    <md-card-title>Applications</md-card-title>
    <md-card-content>
      <p>You have permission to access the following applications.</p>
      <md-list *ngFor="let apiName of apiNames">
        <md-list-item>{{apiName}}</md-list-item>
      </md-list>
    </md-card-content>
  </md-card>

</div>